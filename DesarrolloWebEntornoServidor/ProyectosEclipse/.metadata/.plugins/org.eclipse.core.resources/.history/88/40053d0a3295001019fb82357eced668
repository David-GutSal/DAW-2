package p01.view;

import java.util.ArrayList;
import java.util.List;

import p01.entities.Cuenta;
import p01.utils.TerminalUtils;

public class Banco {
	public static void banco() {
		boolean exit = true;
		Cuenta cc = new CuentaCorriente(1, 0.0);
		Cuenta cc2 = new CuentaCorriente(2, 0.0);
		Cuenta ca = new CuentaAhorro(3, 0.0);
		Cuenta ca2 = new CuentaAhorro(4, 0.0);
		List<Cuenta> c = new ArrayList<Cuenta>();
		c.add(ca);
		c.add(ca2);
		c.add(cc);
		c.add(cc2);
		
		do {
			TerminalUtils.output("Cuentas:");
			TerminalUtils.output("1. Cuenta Ahorro");
			TerminalUtils.output("2. Cuenta Corriente");
			TerminalUtils.output("3. Salir");

			int select = TerminalUtils.inputInt();
			switch (select) {
			case 1:
				TerminalUtils.output("======Cuenta Ahorro======");
				TerminalUtils.output("1. Sacar dinero");
				TerminalUtils.output("2. Ingresar dinero");
				int option = TerminalUtils.inputInt();
				if(option == 1) {
					int cantidad = TerminalUtils.inputInt();
					ca.sacarDinero(cantidad);
				}else if (option == 2) {
					int cantidad = TerminalUtils.inputInt();
					ca.ingresarDinero(cantidad);
				}
				for(Cuenta cu: c) {
					TerminalUtils.output(cu.toString());
				}
				break;
			case 2:
				TerminalUtils.output("======Cuenta Corriente======");
				TerminalUtils.output("1. Sacar dinero");
				TerminalUtils.output("2. Ingresar dinero");
				int option2 = TerminalUtils.inputInt();
				if(option2 == 1) {
					int cantidad = TerminalUtils.inputInt();
					cc.sacarDinero(cantidad);
				}else if (option2 == 2) {
					int cantidad = TerminalUtils.inputInt();
					cc.ingresarDinero(cantidad);
				}
				for(Cuenta cu: c) {
					TerminalUtils.output(cu.toString());
				}
				break;
			case 3:
				exit = false;
				break;
			default:
				TerminalUtils.output("Opcion no valida");
				break;
			}

		} while (exit);
	}
}

class CuentaCorriente extends Cuenta {

	public CuentaCorriente(int a, double saldo) {
		super(a, saldo);
		
	}

}

class CuentaAhorro extends Cuenta {

	public CuentaAhorro(int a, double saldo) {
		super(a, saldo);
		if(saldo<0) {
			saldo = 0;
		}
	}

}
